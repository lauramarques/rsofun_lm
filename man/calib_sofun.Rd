% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/calib_sofun.R
\name{calib_sofun}
\alias{calib_sofun}
\title{Calibrates SOFUN model parameters}
\usage{
calib_sofun(drivers, obs, settings, optim_out = TRUE)
}
\arguments{
\item{drivers}{A data frame with driver data. See \code{\link{p_model_drivers}}
for a description of the data structure.}

\item{obs}{A data frame containing observational data used for model
calibration. See \code{\link{p_model_validation}} for a description of the data
structure.}

\item{settings}{A list containing model calibration settings. 
See the 'P-model usage' vignette for more information and examples.
\describe{
 \item{\code{par}}{A list of model parameters. For each parameter, an initial value 
 and lower and upper bounds should be provided. The calibratable parameters
 are 'kphio', 'soilm_par_a', 'soilm_par_b', 'tau_acclim_tempstress' and 'par_shape_tempstress'.}
 \item{\code{method}}{A string indicating the optimization method, either \code{'GenSA'}
 or \code{'BayesianTools'}.}
 \item{\code{metric}}{A cost function. See the 'Cost functions for parameter
 calibration' vignette for examples.}
 \item{\code{control}}{A list of arguments passed on to the optimization function.
 If \code{method = 'GenSA'}, see \link[GenSA]{GenSA}. If \code{method = 'BayesianTools'}
 the list should include at least \code{settings} and \code{sampler}, see
 \link[BayesianTools:runMCMC]{BayesianTools::runMCMC}.}
 \item{\code{targets}}{Name of the observed target variable to use in calibration
 (necessary if \code{method = 'BayesianTools'}).}
}
@param optim_out A logical indicating whether the function returns the raw
output of the optimization functions (defaults to TRUE).}
}
\value{
A named list containing the calibrated parameter vector `par` and
the output object from the optimization `mod`. For more details on this
output and how to evaluate it, see \link[BayesianTools:runMCMC]{runMCMC} (also
\href{https://florianhartig.github.io/BayesianTools/articles/BayesianTools.html}{this post})
and \link[GenSA]{GenSA}.
}
\description{
This is the main function that handles the 
calibration of SOFUN model parameters.
}
\examples{
\dontrun{ 
calib_sofun(
  drivers = filter(drivers,
          sitename \%in\% settings$sitenames),
  obs = obs_calib,
  settings = settings)
}
}
